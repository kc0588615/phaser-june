"use strict";(globalThis.webpackChunkwiki=globalThis.webpackChunkwiki||[]).push([[46612],{28453(e,n,s){s.d(n,{R:()=>a,x:()=>c});var t=s(96540);const i={},r=t.createContext(i);function a(e){const n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),t.createElement(r.Provider,{value:n},e.children)}},89484(e,n,s){s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>h,frontMatter:()=>a,metadata:()=>t,toc:()=>o});const t=JSON.parse('{"id":"tutorials/first-phaser-scene","title":"Your First Phaser Scene","description":"Learn the Phaser scene lifecycle through Critter Connect\'s codebase","source":"@site/docs/tutorials/first-phaser-scene.md","sourceDirName":"tutorials","slug":"/tutorials/first-phaser-scene","permalink":"/phaser-june/docs/tutorials/first-phaser-scene","draft":false,"unlisted":false,"editUrl":"https://github.com/kc0588615/phaser-june/tree/main/wiki/docs/tutorials/first-phaser-scene.md","tags":[{"inline":true,"label":"tutorial","permalink":"/phaser-june/docs/tags/tutorial"},{"inline":true,"label":"phaser","permalink":"/phaser-june/docs/tags/phaser"},{"inline":true,"label":"beginner","permalink":"/phaser-june/docs/tags/beginner"}],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"title":"Your First Phaser Scene","description":"Learn the Phaser scene lifecycle through Critter Connect\'s codebase","tags":["tutorial","phaser","beginner"]},"sidebar":"docsSidebar","previous":{"title":"Tutorials","permalink":"/phaser-june/docs/category/tutorials"},"next":{"title":"React-Phaser Bridge","permalink":"/phaser-june/docs/tutorials/react-phaser-bridge"}}');var i=s(74848),r=s(28453);const a={sidebar_position:1,title:"Your First Phaser Scene",description:"Learn the Phaser scene lifecycle through Critter Connect's codebase",tags:["tutorial","phaser","beginner"]},c="Tutorial: Your First Phaser Scene",l={},o=[{value:"What You&#39;ll Learn",id:"what-youll-learn",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Understanding Scene Lifecycle",id:"understanding-scene-lifecycle",level:2},{value:"Examining Boot Scene",id:"examining-boot-scene",level:2},{value:"Examining Preloader Scene",id:"examining-preloader-scene",level:2},{value:"Examining the Game Scene",id:"examining-the-game-scene",level:2},{value:"Exercise: Add a Debug Scene",id:"exercise-add-a-debug-scene",level:2},{value:"Scene Communication Patterns",id:"scene-communication-patterns",level:2},{value:"Scene to Scene",id:"scene-to-scene",level:3},{value:"Passing Data",id:"passing-data",level:3},{value:"Summary",id:"summary",level:2},{value:"Next Tutorial",id:"next-tutorial",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"tutorial-your-first-phaser-scene",children:"Tutorial: Your First Phaser Scene"})}),"\n",(0,i.jsx)(n.p,{children:"In this tutorial, you'll learn how Phaser scenes work by examining real examples from the Critter Connect codebase."}),"\n",(0,i.jsx)(n.h2,{id:"what-youll-learn",children:"What You'll Learn"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Phaser scene lifecycle methods"}),"\n",(0,i.jsx)(n.li,{children:"How scenes communicate with React via EventBus"}),"\n",(0,i.jsx)(n.li,{children:"The relationship between scenes in a game flow"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Basic TypeScript knowledge"}),"\n",(0,i.jsx)(n.li,{children:"Familiarity with class-based patterns"}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/docs/getting-started/quick-start",children:"Project running locally"})}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"understanding-scene-lifecycle",children:"Understanding Scene Lifecycle"}),"\n",(0,i.jsx)(n.p,{children:"A Phaser scene has four main lifecycle methods:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"class MyScene extends Phaser.Scene {\n  preload() {\n    // Load assets (images, audio, etc.)\n  }\n\n  create() {\n    // Set up game objects, event listeners\n  }\n\n  update(time: number, delta: number) {\n    // Game loop - called every frame (~60fps)\n  }\n\n  shutdown() {\n    // Cleanup when scene ends\n  }\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"examining-boot-scene",children:"Examining Boot Scene"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Location:"})," ",(0,i.jsx)(n.code,{children:"src/game/scenes/Boot.ts"})]}),"\n",(0,i.jsx)(n.p,{children:"The Boot scene is the simplest - it just configures settings and moves on:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"export class Boot extends Phaser.Scene {\n  constructor() {\n    super('Boot');  // Scene key for reference\n  }\n\n  preload() {\n    // Set base URL for assets\n    this.load.setBaseURL('assets');\n  }\n\n  create() {\n    // Move to Preloader scene\n    this.scene.start('Preloader');\n  }\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Key Concept:"})," ",(0,i.jsx)(n.code,{children:"this.scene.start('SceneName')"})," transitions to another scene."]}),"\n",(0,i.jsx)(n.h2,{id:"examining-preloader-scene",children:"Examining Preloader Scene"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Location:"})," ",(0,i.jsx)(n.code,{children:"src/game/scenes/Preloader.ts"})]}),"\n",(0,i.jsx)(n.p,{children:"The Preloader loads all game assets:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"export class Preloader extends Phaser.Scene {\n  constructor() {\n    super('Preloader');\n  }\n\n  preload() {\n    // Load gem sprites\n    GEM_TYPES.forEach(gemType => {\n      for (let frame = 0; frame < 8; frame++) {\n        const key = `${gemType}_gem_${frame}`;\n        this.load.image(key, `${gemType}_gem_${frame}.png`);\n      }\n    });\n\n    // Load other assets\n    this.load.image('bg', 'bg.png');\n    this.load.spritesheet('owl', 'Owl_spritesheet.png', {\n      frameWidth: 32,\n      frameHeight: 32\n    });\n  }\n\n  create() {\n    // Assets loaded, proceed to game\n    this.scene.start('Game');\n  }\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Key Concepts:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"this.load.image(key, path)"})," - Load static images"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"this.load.spritesheet(key, path, config)"})," - Load animated sprites"]}),"\n",(0,i.jsx)(n.li,{children:"Assets are cached by key for later use"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"examining-the-game-scene",children:"Examining the Game Scene"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Location:"})," ",(0,i.jsx)(n.code,{children:"src/game/scenes/Game.ts"})]}),"\n",(0,i.jsx)(n.p,{children:"The main game scene demonstrates EventBus integration:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"export class Game extends Phaser.Scene {\n  constructor() {\n    super('Game');\n  }\n\n  create() {\n    // 1. Set up input handlers\n    this.input.on('pointerdown', this.onPointerDown, this);\n    this.input.on('pointermove', this.onPointerMove, this);\n    this.input.on('pointerup', this.onPointerUp, this);\n\n    // 2. Listen for React events\n    EventBus.on('cesium-location-selected', this.initializeBoardFromCesium, this);\n    EventBus.on('layout-changed', this.handleLayoutChange, this);\n\n    // 3. Listen for resize\n    this.scale.on(Phaser.Scale.Events.RESIZE, this.handleResize, this);\n\n    // 4. Notify React that scene is ready\n    EventBus.emit('current-scene-ready', this);\n  }\n\n  shutdown() {\n    // Clean up all listeners\n    EventBus.off('cesium-location-selected', this.initializeBoardFromCesium, this);\n    EventBus.off('layout-changed', this.handleLayoutChange, this);\n    this.scale.off(Phaser.Scale.Events.RESIZE, this.handleResize, this);\n  }\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Key Concepts:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"create()"})," sets up everything: input, events, game objects"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"shutdown()"})," cleans up to prevent memory leaks"]}),"\n",(0,i.jsx)(n.li,{children:"EventBus bridges React \u2194 Phaser communication"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"exercise-add-a-debug-scene",children:"Exercise: Add a Debug Scene"}),"\n",(0,i.jsx)(n.p,{children:"Create a simple debug scene that displays FPS:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"// src/game/scenes/Debug.ts\nexport class Debug extends Phaser.Scene {\n  private fpsText!: Phaser.GameObjects.Text;\n\n  constructor() {\n    super('Debug');\n  }\n\n  create() {\n    this.fpsText = this.add.text(10, 10, 'FPS: 0', {\n      fontSize: '16px',\n      color: '#00ff00'\n    });\n  }\n\n  update() {\n    this.fpsText.setText(`FPS: ${Math.round(this.game.loop.actualFps)}`);\n  }\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Register it in ",(0,i.jsx)(n.code,{children:"src/game/main.ts"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"import { Debug } from './scenes/Debug';\n\nconst config: Phaser.Types.Core.GameConfig = {\n  scene: [Boot, Preloader, MainMenu, Game, GameOver, Debug],\n  // ...\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"Launch it alongside Game:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"// In Game.create()\nthis.scene.launch('Debug');\n"})}),"\n",(0,i.jsx)(n.h2,{id:"scene-communication-patterns",children:"Scene Communication Patterns"}),"\n",(0,i.jsx)(n.h3,{id:"scene-to-scene",children:"Scene to Scene"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"// Start a new scene (stops current)\nthis.scene.start('GameOver', { score: 100 });\n\n// Launch a scene (runs parallel)\nthis.scene.launch('HUD');\n\n// Stop a scene\nthis.scene.stop('Debug');\n"})}),"\n",(0,i.jsx)(n.h3,{id:"passing-data",children:"Passing Data"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"// Sender\nthis.scene.start('GameOver', { finalScore: this.score });\n\n// Receiver\ncreate() {\n  const data = this.scene.settings.data as { finalScore: number };\n  console.log('Final score:', data.finalScore);\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Scenes are self-contained game states"}),"\n",(0,i.jsxs)(n.li,{children:["Lifecycle: ",(0,i.jsx)(n.code,{children:"preload"})," \u2192 ",(0,i.jsx)(n.code,{children:"create"})," \u2192 ",(0,i.jsx)(n.code,{children:"update"})," \u2192 ",(0,i.jsx)(n.code,{children:"shutdown"})]}),"\n",(0,i.jsx)(n.li,{children:"EventBus enables React communication"}),"\n",(0,i.jsxs)(n.li,{children:["Always clean up listeners in ",(0,i.jsx)(n.code,{children:"shutdown()"})]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"next-tutorial",children:"Next Tutorial"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"/docs/tutorials/react-phaser-bridge",children:"React-Phaser Bridge"})," - Deep dive into EventBus patterns"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}}}]);