"use strict";(globalThis.webpackChunkwiki=globalThis.webpackChunkwiki||[]).push([[3842],{21675(e,t,s){s.r(t),s.d(t,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>c,metadata:()=>n,toc:()=>l});const n=JSON.parse('{"id":"getting-started/project-structure","title":"Project Structure","description":"Where everything lives in the codebase","source":"@site/docs/getting-started/project-structure.md","sourceDirName":"getting-started","slug":"/getting-started/project-structure","permalink":"/phaser-june/docs/getting-started/project-structure","draft":false,"unlisted":false,"editUrl":"https://github.com/kc0588615/phaser-june/tree/main/wiki/docs/getting-started/project-structure.md","tags":[{"inline":true,"label":"structure","permalink":"/phaser-june/docs/tags/structure"},{"inline":true,"label":"navigation","permalink":"/phaser-june/docs/tags/navigation"}],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"title":"Project Structure","description":"Where everything lives in the codebase","tags":["structure","navigation"]},"sidebar":"docsSidebar","previous":{"title":"Quick Start","permalink":"/phaser-june/docs/getting-started/quick-start"},"next":{"title":"Environment Setup","permalink":"/phaser-june/docs/getting-started/environment-setup"}}');var i=s(74848),r=s(28453);const c={sidebar_position:2,title:"Project Structure",description:"Where everything lives in the codebase",tags:["structure","navigation"]},a="Project Structure",d={},l=[{value:"Directory Overview",id:"directory-overview",level:2},{value:"Key Files by Role",id:"key-files-by-role",level:2},{value:"Entry Points",id:"entry-points",level:3},{value:"Game Logic (MVC Pattern)",id:"game-logic-mvc-pattern",level:3},{value:"Communication",id:"communication",level:3},{value:"Data Layer",id:"data-layer",level:3},{value:"Import Aliases",id:"import-aliases",level:2},{value:"Next Steps",id:"next-steps",level:2}];function o(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"project-structure",children:"Project Structure"})}),"\n",(0,i.jsx)(t.p,{children:"Understanding where code lives is essential for navigating this hybrid React-Phaser application."}),"\n",(0,i.jsx)(t.h2,{id:"directory-overview",children:"Directory Overview"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{children:"phaser-june/\n\u251c\u2500\u2500 src/\n\u2502   \u251c\u2500\u2500 pages/              # Next.js routes\n\u2502   \u2502   \u251c\u2500\u2500 _app.tsx        # App wrapper\n\u2502   \u2502   \u251c\u2500\u2500 _document.tsx   # HTML document\n\u2502   \u2502   \u2514\u2500\u2500 index.tsx       # Main entry point\n\u2502   \u2502\n\u2502   \u251c\u2500\u2500 game/               # Phaser game code\n\u2502   \u2502   \u251c\u2500\u2500 scenes/         # Game scenes (Boot, Preloader, MainMenu, Game, GameOver)\n\u2502   \u2502   \u251c\u2500\u2500 BackendPuzzle.ts  # Match-3 logic (Model)\n\u2502   \u2502   \u251c\u2500\u2500 BoardView.ts      # Sprite rendering (View)\n\u2502   \u2502   \u251c\u2500\u2500 MoveAction.ts     # Move validation\n\u2502   \u2502   \u251c\u2500\u2500 EventBus.ts       # React\u2194Phaser communication\n\u2502   \u2502   \u2514\u2500\u2500 main.ts           # Phaser config & bootstrap\n\u2502   \u2502\n\u2502   \u251c\u2500\u2500 components/         # React components\n\u2502   \u2502   \u251c\u2500\u2500 ui/             # shadcn/ui components\n\u2502   \u2502   \u251c\u2500\u2500 CesiumMap.tsx   # 3D globe\n\u2502   \u2502   \u251c\u2500\u2500 SpeciesPanel.tsx  # Clue display\n\u2502   \u2502   \u2514\u2500\u2500 SpeciesList.tsx   # Species catalog\n\u2502   \u2502\n\u2502   \u251c\u2500\u2500 lib/                # Services & utilities\n\u2502   \u2502   \u251c\u2500\u2500 supabaseClient.ts   # Database client\n\u2502   \u2502   \u251c\u2500\u2500 speciesService.ts   # Species RPC calls\n\u2502   \u2502   \u2514\u2500\u2500 playerTracking.ts   # Session telemetry\n\u2502   \u2502\n\u2502   \u251c\u2500\u2500 hooks/              # React hooks\n\u2502   \u2502   \u2514\u2500\u2500 useSpeciesData.ts   # React Query wrapper\n\u2502   \u2502\n\u2502   \u251c\u2500\u2500 types/              # TypeScript definitions\n\u2502   \u2502   \u2514\u2500\u2500 database.ts     # Supabase generated types\n\u2502   \u2502\n\u2502   \u251c\u2500\u2500 styles/             # Global styles\n\u2502   \u2502   \u2514\u2500\u2500 globals.css     # Tailwind imports\n\u2502   \u2502\n\u2502   \u251c\u2500\u2500 MainAppLayout.tsx   # Layout orchestrator\n\u2502   \u2514\u2500\u2500 PhaserGame.tsx      # React-Phaser bridge\n\u2502\n\u251c\u2500\u2500 public/\n\u2502   \u251c\u2500\u2500 assets/             # Game sprites (gems, owl)\n\u2502   \u2514\u2500\u2500 cesium/             # Cesium static assets\n\u2502\n\u251c\u2500\u2500 docs/                   # Source documentation (migrated to wiki)\n\u251c\u2500\u2500 wiki/                   # Docusaurus documentation site\n\u251c\u2500\u2500 prisma/                 # Prisma schema & migrations\n\u2502\n\u251c\u2500\u2500 next.config.mjs         # Next.js configuration\n\u251c\u2500\u2500 tailwind.config.ts      # Tailwind configuration\n\u251c\u2500\u2500 tsconfig.json           # TypeScript configuration\n\u2514\u2500\u2500 package.json\n"})}),"\n",(0,i.jsx)(t.h2,{id:"key-files-by-role",children:"Key Files by Role"}),"\n",(0,i.jsx)(t.h3,{id:"entry-points",children:"Entry Points"}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"File"}),(0,i.jsx)(t.th,{children:"Purpose"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"src/pages/index.tsx"})}),(0,i.jsx)(t.td,{children:"Landing page, renders MainAppLayout"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"src/MainAppLayout.tsx"})}),(0,i.jsx)(t.td,{children:"Orchestrates Cesium, Phaser, and UI panels"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"src/PhaserGame.tsx"})}),(0,i.jsx)(t.td,{children:"Creates Phaser.Game instance, exposes ref"})]})]})]}),"\n",(0,i.jsx)(t.h3,{id:"game-logic-mvc-pattern",children:"Game Logic (MVC Pattern)"}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"File"}),(0,i.jsx)(t.th,{children:"Role"}),(0,i.jsx)(t.th,{children:"Responsibility"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"src/game/scenes/Game.ts"})}),(0,i.jsx)(t.td,{children:"Controller"}),(0,i.jsx)(t.td,{children:"Input handling, game flow, EventBus emissions"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"src/game/BackendPuzzle.ts"})}),(0,i.jsx)(t.td,{children:"Model"}),(0,i.jsx)(t.td,{children:"Board state, match detection, move validation"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"src/game/BoardView.ts"})}),(0,i.jsx)(t.td,{children:"View"}),(0,i.jsx)(t.td,{children:"Sprite positioning, animations, visual updates"})]})]})]}),"\n",(0,i.jsx)(t.h3,{id:"communication",children:"Communication"}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"File"}),(0,i.jsx)(t.th,{children:"Purpose"})]})}),(0,i.jsx)(t.tbody,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"src/game/EventBus.ts"})}),(0,i.jsx)(t.td,{children:"Typed pub/sub for React\u2194Phaser events"})]})})]}),"\n",(0,i.jsx)(t.h3,{id:"data-layer",children:"Data Layer"}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"File"}),(0,i.jsx)(t.th,{children:"Purpose"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"src/lib/supabaseClient.ts"})}),(0,i.jsx)(t.td,{children:"Supabase client singleton"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"src/lib/speciesService.ts"})}),(0,i.jsx)(t.td,{children:"RPC wrappers for species queries"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"src/hooks/useSpeciesData.ts"})}),(0,i.jsx)(t.td,{children:"React Query caching layer"})]})]})]}),"\n",(0,i.jsx)(t.h2,{id:"import-aliases",children:"Import Aliases"}),"\n",(0,i.jsxs)(t.p,{children:["The codebase uses ",(0,i.jsx)(t.code,{children:"@/"})," as an alias for ",(0,i.jsx)(t.code,{children:"./src/"}),":"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-typescript",children:"// Instead of:\nimport { EventBus } from '../../../game/EventBus';\n\n// Use:\nimport { EventBus } from '@/game/EventBus';\n"})}),"\n",(0,i.jsxs)(t.p,{children:["Configured in ",(0,i.jsx)(t.code,{children:"tsconfig.json"}),":"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-json",children:'{\n  "compilerOptions": {\n    "paths": {\n      "@/*": ["./src/*"]\n    }\n  }\n}\n'})}),"\n",(0,i.jsx)(t.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.a,{href:"/docs/getting-started/environment-setup",children:"Environment Setup"})," - Configure all services"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.a,{href:"/docs/architecture/eventbus-display",children:"EventBus Architecture"})," - Understand React\u2194Phaser communication"]}),"\n"]})]})}function h(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},28453(e,t,s){s.d(t,{R:()=>c,x:()=>a});var n=s(96540);const i={},r=n.createContext(i);function c(e){const t=n.useContext(r);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),n.createElement(r.Provider,{value:t},e.children)}}}]);