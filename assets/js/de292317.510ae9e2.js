"use strict";(globalThis.webpackChunkwiki=globalThis.webpackChunkwiki||[]).push([[72652],{28453(e,n,s){s.d(n,{R:()=>c,x:()=>a});var t=s(96540);const i={},r=t.createContext(i);function c(e){const n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),t.createElement(r.Provider,{value:n},e.children)}},58940(e,n,s){s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>o,frontMatter:()=>c,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"reference/event-types","title":"Event Types Reference","description":"Complete EventBus event catalog with payloads and usage","source":"@site/docs/reference/event-types.md","sourceDirName":"reference","slug":"/reference/event-types","permalink":"/phaser-june/docs/reference/event-types","draft":false,"unlisted":false,"editUrl":"https://github.com/kc0588615/phaser-june/tree/main/wiki/docs/reference/event-types.md","tags":[{"inline":true,"label":"reference","permalink":"/phaser-june/docs/tags/reference"},{"inline":true,"label":"eventbus","permalink":"/phaser-june/docs/tags/eventbus"},{"inline":true,"label":"typescript","permalink":"/phaser-june/docs/tags/typescript"}],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"title":"Event Types Reference","description":"Complete EventBus event catalog with payloads and usage","tags":["reference","eventbus","typescript"]},"sidebar":"docsSidebar","previous":{"title":"Gem & Clue Mapping","permalink":"/phaser-june/docs/reference/gem-clue-mapping"},"next":{"title":"Database Schema","permalink":"/phaser-june/docs/reference/database-schema"}}');var i=s(74848),r=s(28453);const c={sidebar_position:2,title:"Event Types Reference",description:"Complete EventBus event catalog with payloads and usage",tags:["reference","eventbus","typescript"]},a="Event Types Reference",d={},l=[{value:"Event Summary Table",id:"event-summary-table",level:2},{value:"Event Payloads",id:"event-payloads",level:2},{value:"current-scene-ready",id:"current-scene-ready",level:3},{value:"cesium-location-selected",id:"cesium-location-selected",level:3},{value:"layout-changed",id:"layout-changed",level:3},{value:"new-game-started",id:"new-game-started",level:3},{value:"clue-revealed",id:"clue-revealed",level:3},{value:"all-clues-revealed",id:"all-clues-revealed",level:3},{value:"species-guess-submitted",id:"species-guess-submitted",level:3},{value:"all-species-completed",id:"all-species-completed",level:3},{value:"game-reset",id:"game-reset",level:3},{value:"no-species-found",id:"no-species-found",level:3},{value:"game-hud-updated",id:"game-hud-updated",level:3},{value:"game-restart",id:"game-restart",level:3},{value:"show-species-list",id:"show-species-list",level:3},{value:"TypeScript Interface",id:"typescript-interface",level:2},{value:"Usage Patterns",id:"usage-patterns",level:2},{value:"Emitting Events",id:"emitting-events",level:3},{value:"Listening in React",id:"listening-in-react",level:3},{value:"Listening in Phaser",id:"listening-in-phaser",level:3},{value:"Related Documentation",id:"related-documentation",level:2}];function h(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"event-types-reference",children:"Event Types Reference"})}),"\n",(0,i.jsx)(n.p,{children:"Complete catalog of all EventBus events, their payloads, emitters, and listeners."}),"\n",(0,i.jsx)(n.h2,{id:"event-summary-table",children:"Event Summary Table"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Event"}),(0,i.jsx)(n.th,{children:"Direction"}),(0,i.jsx)(n.th,{children:"Emitter"}),(0,i.jsx)(n.th,{children:"Listener(s)"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"current-scene-ready"})}),(0,i.jsx)(n.td,{children:"Phaser \u2192 React"}),(0,i.jsx)(n.td,{children:"Game.ts"}),(0,i.jsx)(n.td,{children:"PhaserGame.tsx"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"cesium-location-selected"})}),(0,i.jsx)(n.td,{children:"React \u2192 Phaser"}),(0,i.jsx)(n.td,{children:"CesiumMap.tsx"}),(0,i.jsx)(n.td,{children:"Game.ts"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"layout-changed"})}),(0,i.jsx)(n.td,{children:"React \u2192 Phaser"}),(0,i.jsx)(n.td,{children:"MainAppLayout.tsx"}),(0,i.jsx)(n.td,{children:"Game.ts"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"new-game-started"})}),(0,i.jsx)(n.td,{children:"Phaser \u2192 React"}),(0,i.jsx)(n.td,{children:"Game.ts"}),(0,i.jsx)(n.td,{children:"SpeciesPanel.tsx"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"clue-revealed"})}),(0,i.jsx)(n.td,{children:"Phaser \u2192 React"}),(0,i.jsx)(n.td,{children:"Game.ts"}),(0,i.jsx)(n.td,{children:"SpeciesPanel.tsx"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"all-clues-revealed"})}),(0,i.jsx)(n.td,{children:"Phaser \u2192 React"}),(0,i.jsx)(n.td,{children:"Game.ts"}),(0,i.jsx)(n.td,{children:"SpeciesPanel.tsx"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"species-guess-submitted"})}),(0,i.jsx)(n.td,{children:"React \u2192 Phaser"}),(0,i.jsx)(n.td,{children:"SpeciesGuessSelector.tsx"}),(0,i.jsx)(n.td,{children:"Game.ts"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"all-species-completed"})}),(0,i.jsx)(n.td,{children:"Phaser \u2192 React"}),(0,i.jsx)(n.td,{children:"Game.ts"}),(0,i.jsx)(n.td,{children:"SpeciesPanel.tsx"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"game-reset"})}),(0,i.jsx)(n.td,{children:"Phaser \u2192 React"}),(0,i.jsx)(n.td,{children:"Game.ts"}),(0,i.jsx)(n.td,{children:"SpeciesPanel.tsx"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"no-species-found"})}),(0,i.jsx)(n.td,{children:"Phaser \u2192 React"}),(0,i.jsx)(n.td,{children:"Game.ts"}),(0,i.jsx)(n.td,{children:"SpeciesPanel.tsx"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"game-hud-updated"})}),(0,i.jsx)(n.td,{children:"Phaser \u2192 React"}),(0,i.jsx)(n.td,{children:"Game.ts"}),(0,i.jsx)(n.td,{children:"SpeciesPanel.tsx"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"game-restart"})}),(0,i.jsx)(n.td,{children:"React \u2192 Phaser"}),(0,i.jsx)(n.td,{children:"UI Component"}),(0,i.jsx)(n.td,{children:"Game.ts"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"show-species-list"})}),(0,i.jsx)(n.td,{children:"React \u2192 React"}),(0,i.jsx)(n.td,{children:"SpeciesPanel.tsx"}),(0,i.jsx)(n.td,{children:"MainAppLayout.tsx"})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"event-payloads",children:"Event Payloads"}),"\n",(0,i.jsx)(n.h3,{id:"current-scene-ready",children:"current-scene-ready"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"type Payload = Phaser.Scene;\n"})}),"\n",(0,i.jsx)(n.p,{children:"Emitted when the Game scene is fully initialized and ready for interaction."}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Emitter:"})," ",(0,i.jsx)(n.code,{children:"Game.ts"})," in ",(0,i.jsx)(n.code,{children:"create()"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"EventBus.emit('current-scene-ready', this);\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Listener:"})," ",(0,i.jsx)(n.code,{children:"PhaserGame.tsx"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"EventBus.on('current-scene-ready', (scene) => {\n  phaserRef.current.scene = scene;\n});\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"cesium-location-selected",children:"cesium-location-selected"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"interface Payload {\n  lon: number;\n  lat: number;\n  habitats: string[];\n  species: Species[];\n  rasterHabitats: RasterHabitatResult[];\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:"Emitted when player clicks a location on the Cesium globe."}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Emitter:"})," ",(0,i.jsx)(n.code,{children:"CesiumMap.tsx"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"EventBus.emit('cesium-location-selected', {\n  lon: longitude,\n  lat: latitude,\n  habitats: habitatList,\n  species: speciesResult.species,\n  rasterHabitats: rasterHabitats\n});\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Listener:"})," ",(0,i.jsx)(n.code,{children:"Game.ts"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"EventBus.on('cesium-location-selected', this.initializeBoardFromCesium, this);\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"layout-changed",children:"layout-changed"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"interface Payload {\n  mapMinimized: boolean;\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:"Emitted when the map section is minimized or expanded."}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Emitter:"})," ",(0,i.jsx)(n.code,{children:"MainAppLayout.tsx"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"useEffect(() => {\n  EventBus.emit('layout-changed', { mapMinimized: cesiumMinimized });\n}, [cesiumMinimized]);\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Listener:"})," ",(0,i.jsx)(n.code,{children:"Game.ts"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"EventBus.on('layout-changed', this.handleLayoutChange, this);\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"new-game-started",children:"new-game-started"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"interface Payload {\n  speciesName: string;\n  speciesId: number;\n  totalSpecies: number;\n  currentIndex: number;\n  hiddenSpeciesName?: string;\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:"Emitted when a new species mystery begins."}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Emitter:"})," ",(0,i.jsx)(n.code,{children:"Game.ts"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"EventBus.emit('new-game-started', {\n  speciesName: 'Mystery Species',\n  speciesId: species.id,\n  totalSpecies: this.speciesQueue.length,\n  currentIndex: this.currentSpeciesIndex,\n  hiddenSpeciesName: species.common_name\n});\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"clue-revealed",children:"clue-revealed"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"interface Payload {\n  category: GemCategory;\n  heading: string;\n  clue: string;\n  speciesId: number;\n  name: string;\n  icon: string;\n  color: string;\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:"Emitted when player matches gems and reveals a clue."}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Emitter:"})," ",(0,i.jsx)(n.code,{children:"Game.ts"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"EventBus.emit('clue-revealed', {\n  category: clueCategory,\n  heading: config.displayName,\n  clue: clueText,\n  speciesId: this.selectedSpecies.id,\n  name: config.displayName,\n  icon: config.icon,\n  color: this.categoryToColor(clueCategory)\n});\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"all-clues-revealed",children:"all-clues-revealed"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"interface Payload {\n  speciesId: number;\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:"Emitted when all 8 clue categories have been revealed for current species."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"species-guess-submitted",children:"species-guess-submitted"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"interface Payload {\n  guessedName: string;\n  speciesId: number;\n  isCorrect: boolean;\n  actualName: string;\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:"Emitted when player submits a species guess."}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Emitter:"})," ",(0,i.jsx)(n.code,{children:"SpeciesGuessSelector.tsx"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"EventBus.emit('species-guess-submitted', {\n  guessedName: selectedSpecies,\n  speciesId: speciesId,\n  isCorrect: correct,\n  actualName: hiddenSpeciesName\n});\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"all-species-completed",children:"all-species-completed"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"interface Payload {\n  totalSpecies: number;\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:"Emitted when player has identified all species at a location."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"game-reset",children:"game-reset"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"type Payload = undefined;\n"})}),"\n",(0,i.jsx)(n.p,{children:"Emitted when game state should be completely reset (new location selected)."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"no-species-found",children:"no-species-found"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"type Payload = {};\n"})}),"\n",(0,i.jsx)(n.p,{children:"Emitted when the selected location has no species data."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"game-hud-updated",children:"game-hud-updated"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"interface Payload {\n  score: number;\n  movesRemaining: number;\n  streak: number;\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:"Emitted when score, moves, or streak changes."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"game-restart",children:"game-restart"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"type Payload = undefined;\n"})}),"\n",(0,i.jsx)(n.p,{children:"Emitted when player requests to restart the current game."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"show-species-list",children:"show-species-list"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"interface Payload {\n  scrollToSpeciesId?: number;\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:"Emitted to toggle the species catalog view."}),"\n",(0,i.jsx)(n.h2,{id:"typescript-interface",children:"TypeScript Interface"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Location:"})," ",(0,i.jsx)(n.code,{children:"src/game/EventBus.ts"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"export interface EventPayloads {\n  'current-scene-ready': Phaser.Scene;\n  'cesium-location-selected': {\n    lon: number;\n    lat: number;\n    habitats: string[];\n    species: Species[];\n    rasterHabitats: RasterHabitatResult[];\n  };\n  'layout-changed': {\n    mapMinimized: boolean;\n  };\n  'new-game-started': {\n    speciesName: string;\n    speciesId: number;\n    totalSpecies: number;\n    currentIndex: number;\n    hiddenSpeciesName?: string;\n  };\n  'clue-revealed': CluePayload;\n  'all-clues-revealed': {\n    speciesId: number;\n  };\n  'species-guess-submitted': {\n    guessedName: string;\n    speciesId: number;\n    isCorrect: boolean;\n    actualName: string;\n  };\n  'all-species-completed': {\n    totalSpecies: number;\n  };\n  'game-reset': undefined;\n  'no-species-found': {};\n  'game-hud-updated': {\n    score: number;\n    movesRemaining: number;\n    streak: number;\n  };\n  'game-restart': undefined;\n  'show-species-list': {\n    scrollToSpeciesId?: number;\n  };\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"usage-patterns",children:"Usage Patterns"}),"\n",(0,i.jsx)(n.h3,{id:"emitting-events",children:"Emitting Events"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"// Simple event\nEventBus.emit('game-reset', undefined);\n\n// Event with payload\nEventBus.emit('clue-revealed', {\n  category: GemCategory.HABITAT,\n  heading: 'Habitat',\n  clue: 'Found in tropical rainforests',\n  speciesId: 42,\n  name: 'Habitat',\n  icon: '\ud83c\udf33',\n  color: 'green'\n});\n"})}),"\n",(0,i.jsx)(n.h3,{id:"listening-in-react",children:"Listening in React"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"useEffect(() => {\n  const handleClue = (data: EventPayloads['clue-revealed']) => {\n    console.log(data.clue);\n  };\n\n  EventBus.on('clue-revealed', handleClue);\n  return () => EventBus.off('clue-revealed', handleClue);\n}, []);\n"})}),"\n",(0,i.jsx)(n.h3,{id:"listening-in-phaser",children:"Listening in Phaser"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"create() {\n  EventBus.on('cesium-location-selected', this.handleLocation, this);\n}\n\nshutdown() {\n  EventBus.off('cesium-location-selected', this.handleLocation, this);\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"related-documentation",children:"Related Documentation"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/docs/architecture/eventbus-display",children:"EventBus Architecture"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/docs/tutorials/react-phaser-bridge",children:"React-Phaser Bridge Tutorial"})}),"\n"]})]})}function o(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}}}]);